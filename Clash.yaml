port: 7890
socks-port: 7891
allow-lan: false
mode: rule
log-level: silent
# external-controller: 127.0.0.1:9090
dns:
  enable: true
  listen: 127.0.0.1:53
  default-nameserver:
  - 8.8.8.8
  - 1.1.1.1
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16 
  nameserver:
  - free.shecan.ir
  - 178.22.122.100
  - 185.51.200.2
proxies:
proxy-groups:
- name: Proxy
  type: select
  proxies:
  - ü•á Lowest Latency
  - üåè Choose a Country
  - ‚èèÔ∏è Select Node
  - ‚öñÔ∏è Load Balancing
  - üõª Failover
  - SSR
- name: üåè Choose a Country
  type: select
  proxies:
  - "\U0001F1F3\U0001F1F1 Netherland"
  - "\U0001F1EC\U0001F1E7 UK"
  - "\U0001F1EB\U0001F1F7 France"
  - "\U0001F1E9\U0001F1EA Germany"
  - "\U0001F1F7\U0001F1FA Russia"
  - "\U0001F1E8\U0001F1E6 Canada"
  - "\U0001F1FA\U0001F1F8 US"
  - "\U0001F1E8\U0001F1F3 China"
  - üåè Other Countries
- name: ‚èèÔ∏è Select Node
  type: select
  use:
  - all
  proxies: []
- name: "\U0001F1E8\U0001F1F3 China"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - cn
  - cn-sspool
  proxies: []
- name: "\U0001F1FA\U0001F1F8 US"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - us
  - us-sspool
  proxies: []
- name: "\U0001F1E8\U0001F1E6 Canada"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - ca
  - ca-sspool
  proxies: []
- name: "\U0001F1F7\U0001F1FA Russia"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - ru
  - ru-sspool
  proxies: []
- name: "\U0001F1E9\U0001F1EA Germany"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - de
  - de-sspool
  proxies: []
- name: "\U0001F1EB\U0001F1F7 France"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - fr
  - fr-sspool
  proxies: []
- name: "\U0001F1EC\U0001F1E7 UK"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - gb
  - gb-sspool
  proxies: []
- name: "\U0001F1F3\U0001F1F1 Netherland"
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - nl
  - nl-sspool
  proxies: []
- name: üåè Other Countries
  type: url-test
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  use:
  - others
  - others-sspool
  proxies: []
- name: ü•á Lowest Latency
  type: url-test
  use:
  - all
  - all-sspool
  url: 'http://www.gstatic.com/generate_204'
  tolerance: 30
  interval: 300
  proxies: []
- name: SSR
  type: select
  use:
  - ssr
  proxies: []
- name: ‚öñÔ∏è Load Balancing
  type: load-balance
  use:
  - all
  - all-sspool
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  proxies: []
- name: üõª Failover
  type: fallback
  use:
  - all
  - all-sspool
  url: 'http://www.gstatic.com/generate_204'
  interval: 300
  proxies: []
proxy-providers:
 # proxies.bihai.cf
  au:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=AU&type=vmess,trojan"
    path: proxies.bihai.cf/provider-au.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  cn:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=HK,TW,CN&type=vmess,trojan"
    path: proxies.bihai.cf/provider-cn.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  us:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=US&type=vmess,trojan"
    path: proxies.bihai.cf/provider-us.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  ca:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=CA&type=vmess,trojan"
    path: proxies.bihai.cf/provider-ca.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  jp:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=JP&type=vmess,trojan"
    path: proxies.bihai.cf/provider-jp.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  sg:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=SG&type=vmess,trojan"
    path: proxies.bihai.cf/provider-sg.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  ru:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=RU&type=vmess,trojan"
    path: proxies.bihai.cf/provider-ru.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  de:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=DE&type=vmess,trojan"
    path: proxies.bihai.cf/provider-de.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  fr:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=FR&type=vmess,trojan"
    path: proxies.bihai.cf/provider-fr.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  gb:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=GB&type=vmess,trojan"
    path: proxies.bihai.cf/provider-gb.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  nl:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?c=NL&type=vmess,trojan"
    path: proxies.bihai.cf/provider-nl.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  others:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?nc=CN,HK,TW,US,CA,CH,DE,GB,NL,FR,RU&type=vmess,trojan"
    path: proxies.bihai.cf/provider-others.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  all:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?type=vmess,trojan"
    path: proxies.bihai.cf/provider.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  ssr:
    type: http
    url: "https://proxies.bihai.cf/clash/proxies?type=ssr"
    path: proxies.bihai.cf/provider-ssr.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  
  # sspool.herokuapp.com:

  au-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=AU&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-au.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  cn-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=HK,TW,CN&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-cn.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  us-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=US&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-us.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  ca-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=CA&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-ca.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  jp-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=JP&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-jp.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  sg-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=SG&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-sg.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  ru-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=RU&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-ru.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  de-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=DE&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-de.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  fr-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=FR&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-fr.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  gb-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=GB&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-gb.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  nl-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?c=NL&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-nl.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  others-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?nc=CN,HK,TW,US,CA,CH,DE,GB,NL,FR,RU&type=vmess,trojan"
    path: sspool.herokuapp.com/provider-others.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  all-sspool:
    type: http
    url: "https://sspool.herokuapp.com/clash/proxies?type=vmess,trojan"
    path: sspool.herokuapp.com/provider.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
    interval: 3600
  

rules:

#proxy rules
- RULE-SET,Proxy,Proxy
- RULE-SET,Youtube,Proxy

# Rules for direct connection
- RULE-SET,Google,DIRECT
- RULE-SET,Sanctions,DIRECT
- RULE-SET,Apple,DIRECT
- RULE-SET,Spotify,DIRECT
- RULE-SET,Iran,DIRECT
- RULE-SET,Xiaomi,DIRECT
- RULE-SET,Discord,DIRECT
- RULE-SET,Github,DIRECT
- RULE-SET,Direct,DIRECT

# Ads rule-set 
- RULE-SET,Adguard,REJECT

- GEOIP,IR,DIRECT
- MATCH,Proxy
rule-providers:
  Spotify:
    type: http
    behavior: classical
    interval: 604800
    path: ./ruleset/Spotify.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Spotify/Spotify.yaml
  Apple:
    type: http
    behavior: classical
    interval: 604800
    path: ./ruleset/Apple.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Apple/Apple.yaml
  Google:
    type: http
    behavior: classical
    interval: 604800
    path: ./ruleset/Google.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Google/Google.yaml
  Youtube:
    type: http
    behavior: classical
    interval: 604800
    path: ./ruleset/Youtube.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
  Github:
    type: http
    behavior: classical
    interval: 604800
    path: ./ruleset/Github.yaml
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
  Xiaomi:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/XiaoMi/XiaoMi.yaml"
    path: ./ruleset/Xiaomi.yaml
    interval: 604800
  Adguard:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Domain.yaml"
    path: ./ruleset/Adguard.yaml
    interval: 604800
  Discord:
    type: http
    behavior: classical
    url: "https://github.com/blackmatrix7/ios_rule_script/raw/master/rule/Clash/Discord/Discord.yaml"
    path: ./ruleset/Discord.yaml
    interval: 604800 
  Iran:
    type: http
    behavior: classical
    url: "https://github.com/SamadiPour/iran-hosted-domains/releases/latest/download/clash_rules.yaml"
    path: ./ruleset/iran.yaml
    interval: 604800
  Sanctions:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/BehradJi/Clash/main/Rules/sanction-domains.yaml"
    path: ./ruleset/Sanctions.yaml
    interval: 604800
  Proxy:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/BehradJi/Clash/main/Rules/proxy-rules.yaml"
    path: ./ruleset/proxy.yaml
    interval: 604800
  Direct:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/BehradJi/Clash/main/Rules/direct-rules.yaml"
    path: ./ruleset/direct.yaml
    interval: 604800